import{f as N,g as c,o as n,c as d,b as e,u,v as S,x as i,y as m,z as x,F as h,k as M,t as k,l as U,A as V,M as F}from"./index-f75a4183.js";import{u as p}from"./contacts-e6dba413.js";const q=["data-bs-target"],w=["id"],J={class:"modal-dialog"},O={class:"modal-content"},T=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"редактирование контакта"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),B={class:"modal-body"},E=["onSubmit"],D={class:"mb-3"},R=e("label",{for:"fullName",class:"form-label"},"ФИО",-1),$={class:"mb-3"},z=e("label",{for:"phone",class:"form-label"},"Номер телефона",-1),A={class:"input-group"},I=e("span",{class:"input-group-text"},"+998",-1),L={class:"mb-3"},j=e("label",{for:"email",class:"form-label"},"Email адрес",-1),G={class:"mb-3"},H=e("label",{for:"tags",class:"form-label"},"Теги",-1),K=e("option",{selected:"",value:null},"Выберите тег",-1),P=["value"],Q={class:"modal-footer"},W=["disabled"],X=["disabled"],Y={key:0,class:"spinner-border text-white ms-1 spinner-border-sm",role:"status"},se=N({__name:"ContactUpdateModal",setup(Z){const g=p().editContact,y=p().tags,l=p().selectedContact,s=c(JSON.parse(JSON.stringify(l))),a=c(!1),_=c(null);function b(){var r;s.value=JSON.parse(JSON.stringify(l)),(r=F.getInstance(_.value))==null||r.hide()}function C(){a.value=!0,setTimeout(()=>{g(s.value),b(),a.value=!1},1e3)}return(r,o)=>{var f,v;return n(),d(h,null,[e("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":`#contactsUpdateModal${(f=u(l))==null?void 0:f.id}`}," Редактировать ",8,q),e("div",{id:`contactsUpdateModal${(v=u(l))==null?void 0:v.id}`,ref_key:"modalRef",ref:_,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[e("div",J,[e("div",O,[T,e("div",B,[e("form",{id:"updateContactForm",onSubmit:S(C,["prevent"])},[e("div",D,[R,i(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.value.fullName=t),type:"text",id:"fullName",class:"form-control",placeholder:"Иванов Иван Иванович",required:""},null,512),[[m,s.value.fullName]])]),e("div",$,[z,e("div",A,[I,i(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.value.phone=t),type:"number",id:"phone",class:"form-control",placeholder:"988888888",required:""},null,512),[[m,s.value.phone]])])]),e("div",L,[j,i(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.value.email=t),type:"email",id:"email",class:"form-control",placeholder:"ivanov@mail.ru",required:""},null,512),[[m,s.value.email]])]),e("div",G,[H,i(e("select",{"onUpdate:modelValue":o[3]||(o[3]=t=>s.value.tag=t),class:"form-select",id:"tags",required:""},[K,(n(!0),d(h,null,M(u(y),t=>(n(),d("option",{key:t.id,value:t},k(t.label),9,P))),128))],512),[[x,s.value.tag]])])],40,E)]),e("div",Q,[e("button",{disabled:a.value,type:"button",class:"btn btn-light",onClick:b}," Отмена ",8,W),e("button",{disabled:a.value,form:"updateContactForm",type:"submit",class:"btn btn-primary"},[U(" Сохранить "),a.value?(n(),d("div",Y)):V("",!0)],8,X)])])])],8,w)],64)}}});export{se as default};
